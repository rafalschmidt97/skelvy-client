<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="navigateBack()">
        <ion-icon name="arrow-back"></ion-icon>
        {{ 'Back' | translate }}
      </ion-button>
    </ion-buttons>
    <ion-title (click)="clearMessages()">{{ 'Chat' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [scrollY]="false">
  <div class="d-flex flex-column h-100 safe-area-b">
    <ng-container *ngIf="(meeting$ | async) as meeting">
      <ng-container *ngIf="messages.length > 0">
        <app-messages
          [messages]="messages"
          [meeting]="meeting"
          [user]="user$ | async"
        ></app-messages>
      </ng-container>
      <ng-container *ngIf="!(messages.length > 0)">
        <app-empty></app-empty>
      </ng-container>
      <app-message-form (sendMessage)="sendMessage($event)"></app-message-form>
    </ng-container>
  </div>
</ion-content>
